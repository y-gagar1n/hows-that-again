{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/ruby","result":{"data":{"markdownRemark":{"html":"<h1 id=\"ruby-on-rails\" style=\"position:relative;\"><a href=\"#ruby-on-rails\" aria-label=\"ruby on rails permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Ruby on Rails</h1>\n<p><strong>Heroku</strong> - позволяет Деплоить приложение одной строкой в консоли</p>\n<p>В моделях RoR можно указывать атрибуты <em>has_many</em> и <em>depends_on</em> и потом в консоли (<strong>rails console</strong>) использовать что-то вроде ORM.</p>\n<p><strong>rspec</strong> - библиотека для тестирования <strong>Capybara</strong> - DSL для тестирования</p>\n<p>Генерация контроллера: <code class=\"language-text\">rails generate controller StaticPages home help</code></p>\n<p>Генерация теста: <code class=\"language-text\">rails generate integration_test static_pages</code></p>\n<p>ERB = <strong>Embedded Ruby</strong></p>\n<p>Дефолтный шаблон (Master Page) хранится в <strong>view/layouts/application.html.erb</strong>. Он содержит команду <strong>&#x3C;%=yield%></strong>, которая вставляет содержимое дочерней страницы. Команда <strong>csrf<em>meta</em>tags</strong> предотвращает подделку межсайтовых запросов.</p>\n<p>'' отличается от \"\" тем, что внутри '' не нужно экранировать спецсимволы</p>\n<p>Интерполяция:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">name <span class=\"token operator\">=</span> <span class=\"token string\">\"bar\"</span>\nputs <span class=\"token string\">\"foo <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>name<span class=\"token delimiter tag\">}</span></span>\"</span>\n<span class=\"token comment\">#foo bar</span></code></pre></div>\n<p>name.empty? - вопросительный знак в конце это просто соглашение для булевых методов</p>\n<p>Есть метод <strong>nil?</strong></p>\n<p>unless = \"Если-не\"</p>\n<p>Все объекты кроме nil равны true, nil == false.</p>\n<p>return использовать необязательно, при его отсутствии будет возвращен результат выполнения последнего оператора</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">42</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">17</span><span class=\"token punctuation\">]</span>\nputs a<span class=\"token punctuation\">.</span>sort <span class=\"token comment\">#[8,17,42]</span>\nputs a <span class=\"token comment\">#[42,8,17]</span>\na<span class=\"token punctuation\">.</span>sort<span class=\"token operator\">!</span> <span class=\"token comment\"># бэнг-метод изменяет исходный массив</span>\nputs a <span class=\"token comment\">#[8,17,42]</span></code></pre></div>\n<p>Добавлять в массив можно методом push или оператором &#x3C;&#x3C;</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a<span class=\"token punctuation\">.</span>push <span class=\"token number\">6</span>\na <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span></code></pre></div>\n<p>Помимо массивов есть диапазоны. Пример диапазона: (0..9)</p>\n<p>Преобразование диапазона в массив:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token number\">.9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>to_a</code></pre></div>\n<p>Можно использовать диапазоны для доступа к массиву:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a <span class=\"token operator\">=</span> <span class=\"token string\">%w[foo bar baz quux]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'baz'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'quux'</span><span class=\"token punctuation\">]</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token number\">.2</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'baz'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>a[2..-1] - От второго и до конца</p>\n<p>Блоки - это лямбды.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">1.</span><span class=\"token number\">.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span><span class=\"token punctuation\">{</span><span class=\"token operator\">|</span>x<span class=\"token operator\">|</span> puts <span class=\"token number\">2</span><span class=\"token operator\">*</span>x<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token number\">4</span> <span class=\"token number\">6</span> <span class=\"token number\">8</span> <span class=\"token number\">10</span></code></pre></div>\n<p>Способ без фигурных скобок:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">1.</span><span class=\"token number\">.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>x<span class=\"token operator\">|</span>\n  puts <span class=\"token number\">2</span> <span class=\"token operator\">*</span> x\n<span class=\"token keyword\">end</span></code></pre></div>\n<h1 id=\"хэши-словари\" style=\"position:relative;\"><a href=\"#%D1%85%D1%8D%D1%88%D0%B8-%D1%81%D0%BB%D0%BE%D0%B2%D0%B0%D1%80%D0%B8\" aria-label=\"хэши словари permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Хэши (словари)</h1>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nd<span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Ivan\"</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Yury\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"surname\"</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Timofeev\"</span> <span class=\"token punctuation\">}</span>\na<span class=\"token punctuation\">[</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">nil</span></code></pre></div>\n<p>Знак => называется hashrocket</p>\n<h1 id=\"символы\" style=\"position:relative;\"><a href=\"#%D1%81%D0%B8%D0%BC%D0%B2%D0%BE%D0%BB%D1%8B\" aria-label=\"символы permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Символы</h1>\n<p>:title - символ</p>\n<p>О символах можно думать как о строках без дополнительного багажа</p>\n<p>Начиная с Ruby 1.9 введен новый синтаксис для хэшей с символами:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">h1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token symbol\">:name</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Ivan\"</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:last_name</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Petrov\"</span> <span class=\"token punctuation\">}</span>\nh2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ivan\"</span><span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Petrov\"</span> <span class=\"token punctuation\">}</span>\nh1 <span class=\"token operator\">==</span> h2 \n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean\">true</span></code></pre></div>\n<p>Метод inspect() возвращает буквальное представление объекта Есть даже специальная функция p, где p :name == puts :name.inspect</p>\n<p>Когда хэш - последний аргумент в вызове функции, фигурные скобки вокруг его обьявления необязательны.</p>\n<p>base64 так называется, потому что его алфавит имеет длину 64: a-z, A-Z, 0-9, -, длинное тире</p>\n<p>В Ruby есть оператор ||=, он по аналогии оператору += аналогичен записи x = x || y</p>","frontmatter":{"path":"/blog/ruby","title":"Ruby on Rails"}}},"pageContext":{}},"staticQueryHashes":["3649515864"]}