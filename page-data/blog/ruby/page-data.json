{"componentChunkName":"component---src-templates-blog-template-js","path":"/blog/ruby","webpackCompilationHash":"bdf7d26e347f416f5348","result":{"data":{"markdownRemark":{"html":"<h1>Ruby on Rails</h1>\n<p><strong>Heroku</strong> - позволяет Деплоить приложение одной строкой в консоли</p>\n<p>В моделях RoR можно указывать атрибуты <em>has_many</em> и <em>depends_on</em> и потом в консоли (<strong>rails console</strong>) использовать что-то вроде ORM.</p>\n<p><strong>rspec</strong> - библиотека для тестирования <strong>Capybara</strong> - DSL для тестирования</p>\n<p>Генерация контроллера: <code class=\"language-text\">rails generate controller StaticPages home help</code></p>\n<p>Генерация теста: <code class=\"language-text\">rails generate integration_test static_pages</code></p>\n<p>ERB = <strong>Embedded Ruby</strong></p>\n<p>Дефолтный шаблон (Master Page) хранится в <strong>view/layouts/application.html.erb</strong>. Он содержит команду <strong>&#x3C;%=yield%></strong>, которая вставляет содержимое дочерней страницы. Команда <strong>csrf<em>meta</em>tags</strong> предотвращает подделку межсайтовых запросов.</p>\n<p>'' отличается от \"\" тем, что внутри '' не нужно экранировать спецсимволы</p>\n<p>Интерполяция:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">name <span class=\"token operator\">=</span> <span class=\"token string\">\"bar\"</span>\nputs <span class=\"token string\">\"foo <span class=\"token interpolation\"><span class=\"token delimiter tag\">#{</span>name<span class=\"token delimiter tag\">}</span></span>\"</span>\n<span class=\"token comment\">#foo bar</span></code></pre></div>\n<p>name.empty? - вопросительный знак в конце это просто соглашение для булевых методов</p>\n<p>Есть метод <strong>nil?</strong></p>\n<p>unless = \"Если-не\"</p>\n<p>Все объекты кроме nil равны true, nil == false.</p>\n<p>return использовать необязательно, при его отсутствии будет возвращен результат выполнения последнего оператора</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a <span class=\"token operator\">=</span> <span class=\"token punctuation\">[</span><span class=\"token number\">42</span><span class=\"token punctuation\">,</span><span class=\"token number\">8</span><span class=\"token punctuation\">,</span><span class=\"token number\">17</span><span class=\"token punctuation\">]</span>\nputs a<span class=\"token punctuation\">.</span>sort <span class=\"token comment\">#[8,17,42]</span>\nputs a <span class=\"token comment\">#[42,8,17]</span>\na<span class=\"token punctuation\">.</span>sort<span class=\"token operator\">!</span> <span class=\"token comment\"># бэнг-метод изменяет исходный массив</span>\nputs a <span class=\"token comment\">#[8,17,42]</span></code></pre></div>\n<p>Добавлять в массив можно методом push или оператором &#x3C;&#x3C;</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a<span class=\"token punctuation\">.</span>push <span class=\"token number\">6</span>\na <span class=\"token operator\">&lt;</span><span class=\"token operator\">&lt;</span> <span class=\"token number\">7</span></code></pre></div>\n<p>Помимо массивов есть диапазоны. Пример диапазона: (0..9)</p>\n<p>Преобразование диапазона в массив:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">0.</span><span class=\"token number\">.9</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>to_a</code></pre></div>\n<p>Можно использовать диапазоны для доступа к массиву:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">a <span class=\"token operator\">=</span> <span class=\"token string\">%w[foo bar baz quux]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'baz'</span><span class=\"token punctuation\">,</span> <span class=\"token string\">'quux'</span><span class=\"token punctuation\">]</span>\na<span class=\"token punctuation\">[</span><span class=\"token number\">0.</span><span class=\"token number\">.2</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token punctuation\">[</span><span class=\"token string\">'foo'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'bar'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'baz'</span><span class=\"token punctuation\">]</span></code></pre></div>\n<p>a[2..-1] - От второго и до конца</p>\n<p>Блоки - это лямбды.</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">1.</span><span class=\"token number\">.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span><span class=\"token punctuation\">{</span><span class=\"token operator\">|</span>x<span class=\"token operator\">|</span> puts <span class=\"token number\">2</span><span class=\"token operator\">*</span>x<span class=\"token punctuation\">}</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token number\">2</span> <span class=\"token number\">4</span> <span class=\"token number\">6</span> <span class=\"token number\">8</span> <span class=\"token number\">10</span></code></pre></div>\n<p>Способ без фигурных скобок:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\"><span class=\"token punctuation\">(</span><span class=\"token number\">1.</span><span class=\"token number\">.5</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">each</span> <span class=\"token keyword\">do</span> <span class=\"token operator\">|</span>x<span class=\"token operator\">|</span>\n  puts <span class=\"token number\">2</span> <span class=\"token operator\">*</span> x\n<span class=\"token keyword\">end</span></code></pre></div>\n<h1>Хэши (словари)</h1>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">d <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\nd<span class=\"token punctuation\">[</span><span class=\"token string\">\"name\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"Ivan\"</span>\na <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token string\">\"name\"</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Yury\"</span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"surname\"</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Timofeev\"</span> <span class=\"token punctuation\">}</span>\na<span class=\"token punctuation\">[</span><span class=\"token string\">\"email\"</span><span class=\"token punctuation\">]</span>\n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">nil</span></code></pre></div>\n<p>Знак => называется hashrocket</p>\n<h1>Символы</h1>\n<p>:title - символ</p>\n<p>О символах можно думать как о строках без дополнительного багажа</p>\n<p>Начиная с Ruby 1.9 введен новый синтаксис для хэшей с символами:</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">h1 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> <span class=\"token symbol\">:name</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Ivan\"</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:last_name</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token string\">\"Petrov\"</span> <span class=\"token punctuation\">}</span>\nh2 <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Ivan\"</span><span class=\"token punctuation\">,</span> last_name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"Petrov\"</span> <span class=\"token punctuation\">}</span>\nh1 <span class=\"token operator\">==</span> h2 \n<span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token keyword\">true</span></code></pre></div>\n<p>Метод inspect() возвращает буквальное представление объекта Есть даже специальная функция p, где p :name == puts :name.inspect</p>\n<p>Когда хэш - последний аргумент в вызове функции, фигурные скобки вокруг его обьявления необязательны.</p>\n<p>base64 так называется, потому что его алфавит имеет длину 64: a-z, A-Z, 0-9, -, длинное тире</p>\n<p>В Ruby есть оператор ||=, он по аналогии оператору += аналогичен записи x = x || y</p>","frontmatter":{"path":"/blog/ruby","title":"Ruby on Rails"}}},"pageContext":{"isCreatedByStatefulCreatePages":false}}}